(function(e){function t(t){for(var n,u,i=t[0],o=t[1],l=t[2],f=0,d=[];f<i.length;f++)u=i[f],Object.prototype.hasOwnProperty.call(c,u)&&c[u]&&d.push(c[u][0]),c[u]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);s&&s(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,i=1;i<r.length;i++){var o=r[i];0!==c[o]&&(n=!1)}n&&(a.splice(t--,1),e=u(u.s=r[0]))}return e}var n={},c={app:0},a=[];function u(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.m=e,u.c=n,u.d=function(e,t,r){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(r,n,function(t){return e[t]}.bind(null,n));return r},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var s=o;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"2d79":function(e,t,r){},"39bc":function(e,t,r){"use strict";r("e2c1")},4062:function(e,t,r){"use strict";r("dd7d")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),c=Object(n["f"])("header",null,[Object(n["f"])("h1",null,"Initiative")],-1);function a(e,t,r,a,u,i){var o=Object(n["l"])("CreatureList"),l=Object(n["l"])("CreatureDetails"),s=Object(n["l"])("UpdateBar");return Object(n["g"])(),Object(n["c"])(n["a"],null,[c,Object(n["f"])("main",null,[Object(n["f"])(o,{onChangeSelectedCreature:t[1]||(t[1]=function(e){return u.selectedCreature=e})}),Object(n["f"])(l,{creature:u.selectedCreature},null,8,["creature"]),Object(n["f"])(s)])],64)}r("4160"),r("d3b7"),r("159b"),r("96cf");var u=r("1da1"),i=Object(n["n"])("data-v-76569277");Object(n["i"])("data-v-76569277");var o={class:"creature-details"};Object(n["h"])();var l=i((function(e,t,r,c,a,u){var i=Object(n["l"])("CreatureDetailHeader"),l=Object(n["l"])("CreatureDetailBasic"),s=Object(n["l"])("CreatureDetailScores");return Object(n["g"])(),Object(n["c"])("div",o,[r.creature?(Object(n["g"])(),Object(n["c"])(n["a"],{key:0},[Object(n["f"])(i,{creature:r.creature},null,8,["creature"]),Object(n["f"])(l,{creature:r.creature},null,8,["creature"]),Object(n["f"])(s,{creature:r.creature},null,8,["creature"])],64)):Object(n["d"])("",!0)])})),s=(r("b0c0"),Object(n["n"])("data-v-c7e3b506"));Object(n["i"])("data-v-c7e3b506");var f={class:"creature-detail-header"},d={class:"creature-name"},b={class:"creature-type"},p=Object(n["e"])(" | "),g={class:"creature-alignment"};Object(n["h"])();var j=s((function(e,t,r,c,a,u){return Object(n["g"])(),Object(n["c"])("div",f,[Object(n["f"])("h2",d,Object(n["m"])(r.creature.name),1),Object(n["f"])("div",null,[Object(n["f"])("span",b,Object(n["m"])(e.$func.capitalize(u.creatureSize))+" "+Object(n["m"])(u.creatureType),1),p,Object(n["f"])("span",g,Object(n["m"])(u.alignment),1)])])})),O=(r("99af"),r("4de4"),r("caad"),r("a15b"),r("d81d"),r("45fc"),r("2532"),r("53ca")),h=r("d4ec"),v=r("bee2"),m=function(){function e(){Object(h["a"])(this,e)}return Object(v["a"])(e,null,[{key:"abvToFull",value:function(e){var t=this;if(!e)return null;if("object"===Object(O["a"])(e))return null!=e.special?e.special:"".concat(e.alignment.map((function(e){return t.abvToFull(e)})).join(" ")).concat(e.chance?" (".concat(e.chance,"%)"):"").concat(e.note?" (".concat(e.note,")"):"");var r=e.toUpperCase();switch(r){case"L":return"lawful";case"N":return"neutral";case"NX":return"neutral (law/chaos axis)";case"NY":return"neutral (good/evil axis)";case"C":return"chaotic";case"G":return"good";case"E":return"evil";case"U":return"unaligned";case"A":return"any alignment";default:return r}}},{key:"parse",value:function(e){var t=this;if(e.some((function(e){return"string"!==typeof e}))){if(e.some((function(e){return"string"===typeof e})))throw new Error("Mixed alignment types: ".concat(JSON.stringify(e)));var r=e.filter((function(e){return void 0===e.alignment||null!=e.alignment}));return r.map((function(e){return null!=e.special||null!=e.chance||null!=e.note?t.abvToFull(e):t.parse(e.alignment)})).join(" or ")}if(1===e.length)return this.abvToFull(e[0]);if(2===e.length)return e.map((function(e){return t.abvToFull(e)})).join(" ");if(3===e.length&&e.includes("NX")&&e.includes("NY")&&e.includes("N"))return"any neutral alignment";if(5===e.length){if(!e.includes("G"))return"any non-good alignment";if(!e.includes("E"))return"any non-evil alignment";if(!e.includes("L"))return"any non-lawful alignment";if(!e.includes("C"))return"any non-chaotic alignment"}if(4===e.length){if(!e.includes("L")&&!e.includes("NX"))return"any chaotic alignment";if(!e.includes("G")&&!e.includes("NY"))return"any evil alignment";if(!e.includes("C")&&!e.includes("NX"))return"any lawful alignment";if(!e.includes("E")&&!e.includes("NY"))return"any good alignment"}throw new Error("Unmapped alignment: ".concat(JSON.stringify(e)))}}]),e}(),y=m,C={name:"CreatureDetailHeader",props:{creature:Object},computed:{creatureSize:function(){return this.$func.sizeToFull(this.creature.size)},creatureType:function(){var e=this.creature.type;return"string"===typeof e?e:e.tags?"".concat(e.type," (").concat(e.tags,") "):e.swarmSize?"swarm of ".concat(this.$func.sizeToFull(e.swarmSize)," ").concat(e.type,"s"):void 0},alignment:function(){return y.parse(this.creature.alignment)}}};C.render=j,C.__scopeId="data-v-c7e3b506";var w=C,P=Object(n["n"])("data-v-04893606");Object(n["i"])("data-v-04893606");var N={class:"creature-detail-basics"},S={class:"creature-ac"},_=Object(n["f"])("strong",null,"Armor Class",-1),k=Object(n["e"])(),I={class:"creature-hp"},L=Object(n["f"])("strong",null,"Hit Points",-1),x=Object(n["e"])(")"),T={class:"creature-speed"},A=Object(n["f"])("strong",null,"Speed",-1);Object(n["h"])();var E=P((function(e,t,r,c,a,u){return Object(n["g"])(),Object(n["c"])("div",N,[Object(n["f"])("div",S,[_,k,Object(n["f"])("span",{innerHTML:u.armorClass},null,8,["innerHTML"])]),Object(n["f"])("div",I,[L,Object(n["e"])(" "+Object(n["m"])(r.creature.hp.average)+" (",1),Object(n["f"])("em",null,Object(n["m"])(r.creature.hp.formula),1),x]),Object(n["f"])("div",T,[A,Object(n["e"])(" "+Object(n["m"])(u.speed),1)])])})),z=(r("4fad"),r("3835")),M=(r("ac1f"),r("5319"),r("1276"),function(){function e(){Object(h["a"])(this,e)}return Object(v["a"])(e,null,[{key:"replaceTag",value:function(e,t,r){var n=r.split("|");switch(t){case"item":case"spell":return"<em>".concat(n[0],"</em>");default:throw new Error("Tag ".concat(t," not defined"))}}},{key:"parse",value:function(e){var t=/{@(\w*)(?: ([^}]*))*}/g;return e.replace(t,this.replaceTag)}}]),e}()),F=M,D={name:"CreatureDetailBasic",props:{creature:Object},computed:{armorClass:function(){var e=this.creature.ac.map((function(e){return"number"===typeof e?e:[e.ac,e.from?"(".concat(F.parse(e.from.join(", ")),")"):"",e.condition?F.parse(e.condition):""].filter(Boolean).join(" ")}));return e.join(", ")},speed:function(){var e=function(e){var t=Object(z["a"])(e,2),r=t[0],n=t[1];return"number"===typeof n?"".concat(r," ").concat(n,"ft"):[r,"".concat(n.number,"ft"),n.condition].join(" ")};return Object.entries(this.creature.speed).filter((function(e){var t=Object(z["a"])(e,1),r=t[0];return"canHover"!==r})).map(e).join(", ")}}};r("67f5");D.render=E,D.__scopeId="data-v-04893606";var U=D,B=Object(n["n"])("data-v-0543adde");Object(n["i"])("data-v-0543adde");var $={class:"creature-detail-scores"},H=Object(n["f"])("br",null,null,-1);Object(n["h"])();var R=B((function(e,t,r,c,a,u){return Object(n["g"])(),Object(n["c"])("div",$,[(Object(n["g"])(!0),Object(n["c"])(n["a"],null,Object(n["j"])(u.scores,(function(t){return Object(n["g"])(),Object(n["c"])("div",{class:"score",key:t.key},[Object(n["f"])("span",null,Object(n["m"])(t.key.toUpperCase()),1),H,Object(n["f"])("span",null,Object(n["m"])(t.value)+" ("+Object(n["m"])(e.$func.calcMod(t.value))+")",1)])})),128))])})),G={name:"CreatureDetailScores",props:{creature:Object},computed:{scores:function(){var e=this;return["str","dex","con","int","wis","cha"].map((function(t){return{key:t,value:e.creature[t]}}))}}};r("af16");G.render=R,G.__scopeId="data-v-0543adde";var J=G,V={name:"CreatureDetails",components:{CreatureDetailHeader:w,CreatureDetailBasic:U,CreatureDetailScores:J},props:{creature:Object}};r("39bc");V.render=l,V.__scopeId="data-v-76569277";var X=V,Y=Object(n["n"])("data-v-4658cd63");Object(n["i"])("data-v-4658cd63");var W={class:"creature-list"},q=Object(n["f"])("h3",null,"Creature List",-1);Object(n["h"])();var K=Y((function(e,t,r,c,a,u){var i=Object(n["l"])("CreatureListItem"),o=Object(n["l"])("CreatureListPageSelect");return Object(n["g"])(),Object(n["c"])("div",W,[q,Object(n["f"])("ul",null,[(Object(n["g"])(!0),Object(n["c"])(n["a"],null,Object(n["j"])(u.creaturePage,(function(e){return Object(n["g"])(),Object(n["c"])("li",{key:e.name},[Object(n["f"])(i,{creatureName:e.name,onSelectCreature:t[1]||(t[1]=function(e){return u.onSelectCreature(e)})},null,8,["creatureName"])])})),128))]),Object(n["f"])(o,{page:a.currentPage,onChangePage:t[2]||(t[2]=function(e){return u.onChangePage(e)})},null,8,["page"])])})),Q=(r("7db0"),r("fb6a"),Object(n["n"])("data-v-2161cacc")),Z=Q((function(e,t,r,c,a,u){return Object(n["g"])(),Object(n["c"])("div",{class:"creature-list-item",onClick:t[1]||(t[1]=function(t){return e.$emit("selectCreature",r.creatureName)})},Object(n["m"])(r.creatureName),1)})),ee={name:"CreatureListItem",emits:["selectCreature"],props:{creatureName:String}};r("b7bb");ee.render=Z,ee.__scopeId="data-v-2161cacc";var te=ee,re=Object(n["n"])("data-v-7d210e72"),ne=re((function(e,t,r,c,a,u){var i=Object(n["l"])("IconCaretLeftFill"),o=Object(n["l"])("IconBase"),l=Object(n["l"])("IconCaretLeft"),s=Object(n["l"])("IconCaretRightFill"),f=Object(n["l"])("IconCaretRight");return Object(n["g"])(),Object(n["c"])("span",null,[Object(n["f"])("button",{onClick:t[1]||(t[1]=function(t){return e.$emit("changePage",r.page-1)})},[Object(n["f"])(o,{class:"icon-default","icon-name":"left-arrow"},{default:re((function(){return[Object(n["f"])(i)]})),_:1}),Object(n["f"])(o,{class:"icon-hover","icon-name":"left-arrow-hover"},{default:re((function(){return[Object(n["f"])(l)]})),_:1})]),Object(n["f"])("input",{type:"number",value:u.pageNum,onChange:t[2]||(t[2]=function(e){return u.enterPageNum(e)})},null,40,["value"]),Object(n["f"])("button",{onClick:t[3]||(t[3]=function(t){return e.$emit("changePage",r.page+1)})},[Object(n["f"])(o,{class:"icon-default","icon-name":"right-arrow"},{default:re((function(){return[Object(n["f"])(s)]})),_:1}),Object(n["f"])(o,{class:"icon-hover","icon-name":"right-arrow-hover"},{default:re((function(){return[Object(n["f"])(f)]})),_:1})])])})),ce=(r("a9e3"),Object(n["n"])("data-v-8a994622")),ae=ce((function(e,t,r,c,a,u){return Object(n["g"])(),Object(n["c"])("svg",{class:"icon",xmlns:"http://www.w3.org/2000/svg",width:r.width,height:r.height,viewBox:"0 0 18 18","aria-labelledby":r.iconName,role:"presentation"},[Object(n["f"])("title",{id:r.iconName,lang:"en"},Object(n["m"])(r.iconName)+" icon",9,["id"]),Object(n["f"])("g",{fill:r.iconColor},[Object(n["k"])(e.$slots,"default")],8,["fill"])],8,["width","height","aria-labelledby"])})),ue={props:{iconName:{type:String},width:{type:[Number,String],default:18},height:{type:[Number,String],default:18},iconColor:{type:String,default:"currentColor"}}};r("aac8");ue.render=ae,ue.__scopeId="data-v-8a994622";var ie=ue,oe=Object(n["f"])("path",{d:"M3.86 8.753l5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"},null,-1);function le(e,t){return Object(n["g"])(),Object(n["c"])("g",null,[oe])}const se={};se.render=le;var fe=se,de=Object(n["f"])("path",{d:"M10 12.796V3.204L4.519 8 10 12.796zm-.659.753l-5.48-4.796a1 1 0 0 1 0-1.506l5.48-4.796A1 1 0 0 1 11 3.204v9.592a1 1 0 0 1-1.659.753z"},null,-1);function be(e,t){return Object(n["g"])(),Object(n["c"])("g",null,[de])}const pe={};pe.render=be;var ge=pe,je=Object(n["f"])("path",{d:"M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"},null,-1);function Oe(e,t){return Object(n["g"])(),Object(n["c"])("g",null,[je])}const he={};he.render=Oe;var ve=he,me=Object(n["f"])("path",{d:"M6 12.796V3.204L11.481 8 6 12.796zm.659.753l5.48-4.796a1 1 0 0 0 0-1.506L6.66 2.451C6.011 1.885 5 2.345 5 3.204v9.592a1 1 0 0 0 1.659.753z"},null,-1);function ye(e,t){return Object(n["g"])(),Object(n["c"])("g",null,[me])}const Ce={};Ce.render=ye;var we=Ce,Pe={name:"CreatureListPageSelect",emits:["changePage"],components:{IconBase:ie,IconCaretLeftFill:fe,IconCaretLeft:ge,IconCaretRightFill:ve,IconCaretRight:we},props:{page:Number},methods:{enterPageNum:function(e){this.$emit("changePage",e.target.value-1)}},computed:{pageNum:function(){return this.page+1}}};r("8415");Pe.render=ne,Pe.__scopeId="data-v-7d210e72";var Ne=Pe,Se={name:"CreatureList",data:function(){return{currentPage:0,creaturesPerPage:15}},emits:["changeSelectedCreature"],components:{CreatureListItem:te,CreatureListPageSelect:Ne},inject:["creatures"],methods:{onSelectCreature:function(e){var t=this.creatures.find((function(t){return t.name===e}));this.$emit("changeSelectedCreature",t)},onChangePage:function(e){var t=this.currentPage;e<=this.creatures.length/this.creaturesPerPage&&e>=0?this.currentPage=e:this.currentPage=t}},computed:{creaturePage:function(){var e=this.currentPage*this.creaturesPerPage;return this.creatures.slice(e,e+this.creaturesPerPage)}}};r("7e82");Se.render=K,Se.__scopeId="data-v-4658cd63";var _e=Se,ke=Object(n["n"])("data-v-791f673e");Object(n["i"])("data-v-791f673e");var Ie={key:0,class:"update-bar"},Le=Object(n["f"])("span",null,"An update is available",-1),xe=Object(n["f"])("br",null,null,-1);Object(n["h"])();var Te=ke((function(e,t,r,c,a,u){return e.updateExists?(Object(n["g"])(),Object(n["c"])("div",Ie,[Le,xe,Object(n["f"])("button",{onClick:t[1]||(t[1]=function(){return e.refreshApp&&e.refreshApp.apply(e,arguments)})},"Update")])):Object(n["d"])("",!0)})),Ae={data:function(){return{reg:null,updateExists:!1,refreshing:!1}},created:function(){var e=this;document.addEventListener("swUpdated",this.updateAvalible,{once:!0}),navigator.serviceWorker.addEventListener("controllerchange",(function(){e.refreshing||(e.refreshing=!0,window.location.reload())}))},methods:{updateAvalible:function(e){this.reg=e.detail,this.updateExists=!0},refreshApp:function(){this.updateExists=!1,this.reg&&this.reg.waiting&&this.reg.waiting.postMessage({type:"SKIP_WAITING"})}}},Ee={name:"UpdateBar",mixins:[Ae]};r("4062");Ee.render=Te,Ee.__scopeId="data-v-791f673e";var ze=Ee,Me={name:"App",components:{CreatureList:_e,CreatureDetails:X,UpdateBar:ze},data:function(){return{creatures:[],selectedCreature:null}},provide:function(){return{creatures:this.creatures}},created:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("./data/sources.json").then((function(e){return e.json()}));case 3:r=t.sent,r.creatures.forEach(function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(r).then((function(e){return e.json()}));case 2:n=t.sent,n.forEach((function(t){e.creatures.push(t)})),Array.isArray(e.creatures)&&e.creatures.length&&(e.selectedCreature=e.creatures[0]);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}};r("99e1");Me.render=a;var Fe=Me,De=r("9483");Object(De["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(e){console.log("New content is available; please refresh."),document.dispatchEvent(new CustomEvent("swUpdated",{detail:e}))},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var Ue={capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},sizeToFull:function(e){switch(e.toUpperCase()){case"T":return"tiny";case"S":return"small";case"M":return"medium";case"L":return"large";case"H":return"huge";case"G":return"gigantic";default:return null}},calcMod:function(e){return Math.floor((e-10)/2)}},Be=Object(n["b"])(Fe);Be.config.globalProperties.$func=Ue,Be.mount("#app")},"5cbc":function(e,t,r){},"67f5":function(e,t,r){"use strict";r("d3a7")},"7e82":function(e,t,r){"use strict";r("beb1")},8415:function(e,t,r){"use strict";r("c014")},9611:function(e,t,r){},"99e1":function(e,t,r){"use strict";r("2d79")},aac8:function(e,t,r){"use strict";r("f38a")},af16:function(e,t,r){"use strict";r("9611")},b7bb:function(e,t,r){"use strict";r("5cbc")},beb1:function(e,t,r){},c014:function(e,t,r){},d3a7:function(e,t,r){},dd7d:function(e,t,r){},e2c1:function(e,t,r){},f38a:function(e,t,r){}});
//# sourceMappingURL=app.b56c61be.js.map